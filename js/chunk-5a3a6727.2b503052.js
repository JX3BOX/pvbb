(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a3a6727"],{"13a0":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("ListLayout",[a("div",{staticClass:"v-collection"},["list"==t.mode?a("List"):a("Single")],1)])},o=[],i=e("9398"),s=(e("ac1f"),e("841c"),e("498a"),function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"listRef",staticClass:"m-collection-box"},[a("div",{staticClass:"m-archive-search m-collection-search"},[a("a",{staticClass:"u-publish el-button el-button--primary",attrs:{href:t.publish_link}},[t._v("+ 创建小册")]),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:t.onSearch},nativeOn:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.search,callback:function(a){t.search="string"===typeof a?a.trim():a},expression:"search"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",{staticClass:"u-search"},[t._v("关键词")])]),a("el-button",{staticClass:"u-btn",attrs:{slot:"append",icon:"el-icon-position"},on:{click:t.onSearch},slot:"append"})],1)],1),a("Banner",{attrs:{subtype:"collection"}}),t.data&&t.data.length?a("div",{staticClass:"m-collection-list"},[t._l(t.data,(function(e,n){return[a("collection-item",{key:n,style:t.isPhone?"":"width: calc(100% / ".concat(t.count,")"),attrs:{data:e}})]}))],2):a("el-alert",{staticClass:"m-collection-null",attrs:{title:"没有找到相关条目",type:"info","show-icon":""}}),a("el-pagination",{staticClass:"m-collection-pagination",attrs:{background:"","page-size":t.per,"hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total},on:{"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a},"current-change":t.skipTop}})],1)}),c=[],l=e("5530"),r=(e("d3b7"),e("85e4")),u=(e("99af"),function(){var t=this,a=t._self._c;return a("a",{staticClass:"m-collection-item_v2",attrs:{href:"/collection/".concat(t.data.id),target:"_blank"},on:{mousemove:t.handleMove}},[a("div",{ref:"bookRef",staticClass:"u-image"},[a("el-image",{staticClass:"u-img u-cover",attrs:{src:t.resolveImagePath(t.data.image),fit:"cover"}},[a("img",{attrs:{slot:"error",src:"".concat(t.imgPath,"cover-").concat(t.randomNumber,".png")},slot:"error"})]),a("img",{ref:"mark".concat(t.data.id),staticClass:"u-img u-mark",attrs:{src:"".concat(t.imgPath,"light.png")}}),a("img"),a("el-image",{staticClass:"u-img u-box",attrs:{src:"".concat(t.imgPath,"box.svg"),fit:"fill"}})],1),a("div",{staticClass:"u-content"},[a("div",{staticClass:"u-title",attrs:{title:t.data.title}},[t._v(t._s(t.data.title))]),t.data.collection_user_info?a("div",{staticClass:"u-info"},[a("a",{staticClass:"u-user",attrs:{href:t.authorLink(t.data.user_id),target:"_blank"}},[a("img",{staticClass:"u-avatar",attrs:{src:t.showAvatar(t.data.collection_user_info.user_avatar)}}),a("span",{staticClass:"u-nickname",domProps:{textContent:t._s(t.data.collection_user_info.display_name)}})])]):t._e(),a("div",{staticClass:"u-time"},[a("el-button",{attrs:{type:"text",icon:"el-icon-date"}},[t._v(t._s(t.showDate(1e3*t.data.created)))]),a("el-button",{attrs:{type:"text",icon:"el-icon-refresh"}},[t._v(t._s(t.showDate(1e3*t.data.updated)))])],1)])])}),d=[],p=e("e4f1"),f=e("65c2"),h={name:"CollectionItemV2",props:{data:{type:Object,default:function(){}}},computed:{imgPath:function(){return"".concat(f["__imgPath"],"topic/bbs/")},randomNumber:function(){return Math.floor(4*Math.random())+1}},methods:{resolveImagePath:r["t"],authorLink:r["a"],showAvatar:r["u"],showDate:p["a"],handleMove:function(t){var a=Math.floor(t.offsetX/100),e=-Math.floor(t.offsetX/60);this.$refs["mark".concat(this.data.id)].style.transform="translate(".concat(a,"px, ").concat(e,"px)")}}},m=h,g=(e("6d0c"),e("2877")),v=Object(g["a"])(m,u,d,!1,null,null,null),b=v.exports,_=e("6c2b"),C=e("51b7"),k=e("cf45"),y={name:"CollectionList",props:[],components:{"collection-item":b,Banner:C["a"]},data:function(){return{loading:!1,data:[],page:1,total:1,pages:1,per:18,search:"",count:0}},computed:{publish_link:function(){return Object(r["s"])("collection")},params:function(){return{page:this.page,per:this.per}},isPhone:function(){return Object(k["b"])()}},methods:{skipTop:function(){window.scrollTo(0,0)},loadData:function(){var t=this;this.loading=!0;var a=Object(l["a"])(Object(l["a"])({},this.params),{},{keyword:this.search});Object(_["b"])(a).then((function(a){var e,n,o,i;t.data=null===a||void 0===a||null===(e=a.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.list,t.total=null===a||void 0===a||null===(o=a.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.total})).finally((function(){t.loading=!1}))},onSearch:function(){1===this.page?this.loadData():this.page=1},showCount:function(){var t,a=null===(t=this.$refs.listRef)||void 0===t?void 0:t.clientWidth;this.count=Math.floor(a/260),this.per=this.isPhone?12:4*this.count}},watch:{params:{immediate:!0,deep:!0,handler:function(){this.loadData()}}},mounted:function(){this.showCount()}},w=y,x=(e("e800"),Object(g["a"])(w,s,c,!1,null,null,null)),P=x.exports,O=e("1ce6"),L={name:"Collection",props:[],components:{List:P,Single:O["default"],ListLayout:i["a"]},data:function(){return{}},computed:{mode:function(){var t;return null!==(t=this.$route)&&void 0!==t&&t.params.id?"single":"list"}},watch:{},methods:{},filters:{},created:function(){},mounted:function(){}},S=L,j=(e("658a"),Object(g["a"])(S,n,o,!1,null,null,null));a["default"]=j.exports},"206c":function(t,a,e){},"30a3":function(t,a,e){},3624:function(t,a,e){"use strict";e("a335")},"46df":function(t,a,e){},"498a":function(t,a,e){"use strict";var n=e("23e7"),o=e("58a8").trim,i=e("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},"658a":function(t,a,e){"use strict";e("206c")},"6d0c":function(t,a,e){"use strict";e("30a3")},9398:function(t,a,e){"use strict";var n=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"app"}},[a("Header"),a("Breadcrumb",{attrs:{name:"竹林茶馆",slug:"bbs",publishEnable:!1,topicEnable:!1,adminEnable:!1,feedbackEnable:!0,crumbEnable:!0},scopedSlots:t._u([{key:"logo",fn:function(){return[a("img",{attrs:{"svg-inline":"",src:t.logo}})]},proxy:!0}])},[a("Info"),a("publish-gate",{attrs:{slot:"op-append"},slot:"op-append"})],1),a("LeftSidebar",[a("Nav")],1),a("Main",{attrs:{withoutRight:!1}},[a("div",{staticClass:"m-main"},[t._t("default")],2),a("RightSidebar",{staticClass:"m-bbs-right-side",attrs:{"show-toggle":!0}},[a("Side",{staticClass:"m-extend"})],1),a("Footer")],1)],1)},o=[],i=(e("b0c0"),e("8f33")),s=e("3fac"),c=e("ee7f"),l=e("98e8"),r=e("85e4"),u=e("65c2"),d={name:"ListLayout",props:[],data:function(){return{logo:u["__cdn"]+"logo/logo-light/community.svg"}},computed:{slug:function(){return this.$route.name}},methods:{getAppIcon:r["g"]},components:{Nav:s["a"],"publish-gate":l["a"],Info:i["a"],Side:c["a"]}},p=d,f=(e("3624"),e("2877")),h=Object(f["a"])(p,n,o,!1,null,null,null);a["a"]=h.exports},a335:function(t,a,e){},c8d2:function(t,a,e){"use strict";var n=e("5e77").PROPER,o=e("d039"),i=e("5899"),s="​᠎";t.exports=function(t){return o((function(){return!!i[t]()||s[t]()!==s||n&&i[t].name!==t}))}},e800:function(t,a,e){"use strict";e("46df")}}]);