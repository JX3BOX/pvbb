(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2afd2666"],{1856:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"a",(function(){return i}));var s=e("41cb");function n(t){return Object(s["a"])().get("/api/cms/namespace",{params:t})}function i(t){return Object(s["a"])().get("/api/cms/namespace/".concat(t))}},3624:function(t,a,e){"use strict";e("a335")},"498a":function(t,a,e){"use strict";var s=e("23e7"),n=e("58a8").trim,i=e("c8d2");s({target:"String",proto:!0,forced:i("trim")},{trim:function(){return n(this)}})},"54f1":function(t,a,e){"use strict";e("835c")},"835c":function(t,a,e){},9398:function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"app"}},[a("Header"),a("Breadcrumb",{attrs:{name:"竹林茶馆",slug:"bbs",publishEnable:!1,topicEnable:!1,adminEnable:!1,feedbackEnable:!0,crumbEnable:!0},scopedSlots:t._u([{key:"logo",fn:function(){return[a("img",{attrs:{"svg-inline":"",src:t.logo}})]},proxy:!0}])},[a("Info"),a("publish-gate",{attrs:{slot:"op-append"},slot:"op-append"})],1),a("LeftSidebar",[a("Nav")],1),a("Main",{attrs:{withoutRight:!1}},[a("div",{staticClass:"m-main"},[t._t("default")],2),a("RightSidebar",{staticClass:"m-bbs-right-side",attrs:{"show-toggle":!0}},[a("Side",{staticClass:"m-extend"})],1),a("Footer")],1)],1)},n=[],i=(e("b0c0"),e("8f33")),c=e("3fac"),r=e("ee7f"),l=e("98e8"),o=e("85e4"),u=e("65c2"),p={name:"ListLayout",props:[],data:function(){return{logo:u["__cdn"]+"logo/logo-light/community.svg"}},computed:{slug:function(){return this.$route.name}},methods:{getAppIcon:o["g"]},components:{Nav:c["a"],"publish-gate":l["a"],Info:i["a"],Side:r["a"]}},m=p,d=(e("3624"),e("2877")),f=Object(d["a"])(m,s,n,!1,null,null,null);a["a"]=f.exports},a335:function(t,a,e){},a3d0:function(t,a,e){"use strict";e.r(a);e("ac1f"),e("841c"),e("498a");var s=function(){var t=this,a=t._self._c;return a("ListLayout",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-namespace"},[a("div",{key:"namespace-search",staticClass:"m-archive-search m-namespace-search",attrs:{slot:"search-before"},slot:"search-before"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:t.onSearch},nativeOn:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.search,callback:function(a){t.search="string"===typeof a?a.trim():a},expression:"search"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("i",{staticClass:"el-icon-search"}),t._v(" "),a("span",{staticClass:"u-search"},[t._v("关键词")])]),a("el-button",{attrs:{slot:"append",icon:"el-icon-position"},on:{click:t.onSearch},slot:"append"})],1)],1),a("el-tabs",{staticClass:"m-namespace-tab",model:{value:t.type,callback:function(a){t.type=a},expression:"type"}},[a("el-tab-pane",{attrs:{label:"全部",name:"all"}}),t._l(t.types,(function(t){return a("el-tab-pane",{key:t.value,attrs:{label:t.label,name:t.value}})}))],2),t.query?a("el-alert",{staticClass:"m-namespace-warning",attrs:{type:"warning","show-icon":""}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("b",[t._v(t._s(t.query))]),t._v(" 铭牌不存在或正在审核中 ")])]):t._e(),a("div",{staticClass:"m-namespace-filter"},[a("div",{staticClass:"m-namespace-add"},[a("a",{staticClass:"u-publish u-namespace-add el-button el-button--primary el-button--small",attrs:{href:t.publish_link}},[t._v("+ 注册铭牌")]),a("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:"/publish/#/bucket/namespace"}},[a("span",{staticClass:"el-icon-receiving"}),t._v(" 我的铭牌 ")]),a("div",{staticClass:"m-namespace-total"},[t._v(" 当前共 "),a("b",[t._v(t._s(t.total))]),t._v("个铭牌 ")])]),a("div",{staticClass:"m-namespace-order"},[a("orderBy",{staticClass:"u-item",on:{filter:t.changeOrder}})],1)]),t.list?a("div",{staticClass:"m-namespace-list"},t._l(t.list,(function(t){return a("div",{key:t.ID,staticClass:"u-namespace"},[a("namespace-item",{attrs:{data:t}})],1)})),0):a("div",{staticClass:"m-namespace-null"},[a("el-alert",{attrs:{title:"没有相关条目",type:"info","show-icon":""}})],1),a("div",{staticClass:"m-namespace-pages"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a}}})],1)],1)])},n=[],i=(e("e9f5"),e("7d54"),e("b64b"),e("d3b7"),e("159b"),e("9911"),function(){var t=this,a=t._self._c;return a("div",{staticClass:"m-namespace-item",on:{click:function(a){return t.goNamespace(t.namespace.link)}}},[a("h5",{staticClass:"u-title"},[a("a",{attrs:{href:t.namespace.link,target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[a("i",{staticClass:"u-icon el-icon-postcard"}),t._v(t._s(t.namespace.key||"未知")+" "),a("span",{staticClass:"u-preview"},[t._v("剑网3.com/"+t._s(t.namespace.key))])]),t.isMyNamespace(t.namespace.uid)?a("i",{staticClass:"u-my"},[t._v("由我创建的")]):t._e()]),a("p",{staticClass:"u-desc"},[t._v(t._s(t.namespace.desc||t.namespace.key||"未知"))]),a("div",{staticClass:"u-misc"},[a("span",{staticClass:"u-author"},[a("i",{staticClass:"el-icon-user"}),a("a",{attrs:{href:t._f("authorLink")(t.namespace.uid),target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[t._v(" "+t._s(t.namespace.creator&&t.namespace.creator.display_name||"匿名"))])]),a("time",{staticClass:"u-time"},[a("i",{staticClass:"el-icon-date"}),t._v(" "+t._s(t._f("dataFormat")(t.namespace.created)))])])])}),c=[],r=e("85e4"),l=e("e4f1"),o=e("c9d2"),u={name:"namespaceItem",props:["data"],data:function(){return{uid:o["a"].getInfo().uid}},computed:{namespace:function(){return this.data}},filters:{authorLink:r["a"],dataFormat:function(t){return t&&Object(l["a"])(1e3*~~t)||"-"}},methods:{isMyNamespace:function(t){return this.uid&&t==this.uid},goNamespace:function(t){window.open(t,"_blank")}},mounted:function(){}},p=u,m=e("2877"),d=Object(m["a"])(p,i,c,!1,null,null,null),f=d.exports,h=e("1856"),b=e("9398"),v={name:"Namespace",props:[],data:function(){return{type:"all",types:[{label:"玩家",value:"player"},{label:"团队",value:"team"},{label:"系统",value:"system"},{label:"自定义",value:"custom"}],list:"",per:24,total:1,page:1,order:"update",search:"",query:"",loading:!1}},computed:{params:function(){var t={source_type:"all"==this.type?"":this.type,page:this.page,per:this.per};return"podate"==this.order?t.sort="created":t.sort="updated",t},publish_link:function(){return Object(r["s"])("namespace")},buy_link:function(){return"/vip/namespace?from=bbs_namespace"}},methods:{loadNamespaceList:function(){var t=this;this.loading=!0;var a=this.removeEmpty(Object.assign({},this.params,{key:this.search}));Object(h["b"])(a).then((function(a){t.list=a.data.data.list||[],t.total=a.data.data.total})).finally((function(){t.loading=!1}))},changeOrder:function(t){this.order=t.val},onSearch:function(){1==this.page?this.loadNamespaceList():this.page=1},removeEmpty:function(t){return Object.keys(t).forEach((function(a){null!==t[a]&&void 0!==t[a]&&""!==t[a]||delete t[a]})),t}},watch:{type:function(){this.page=1},params:{deep:!0,immediate:!0,handler:function(t){this.query="",this.loadNamespaceList()}}},created:function(){this.query=this.$route.query.namespace},components:{"namespace-item":f,ListLayout:b["a"]}},g=v,y=(e("54f1"),Object(m["a"])(g,s,n,!1,null,null,null));a["default"]=y.exports},c8d2:function(t,a,e){"use strict";var s=e("5e77").PROPER,n=e("d039"),i=e("5899"),c="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||c[t]()!==c||s&&i[t].name!==t}))}}}]);