(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77d2e006"],{"01ea":function(t,e,a){"use strict";a.d(e,"g",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"c",(function(){return h})),a.d(e,"d",(function(){return f})),a.d(e,"h",(function(){return g})),a.d(e,"j",(function(){return p}));var i=a("5530"),n=a("65c2"),s=Object(i["a"])(Object(i["a"])({},n),{},{__dataPath:"https://data.jx3box.com/",__imgPath:"https://img.jx3box.com/",__iconPath:"https://icon.jx3box.com/"}),o=s.__imgPath,r=s.__dataPath,l=(s.__iconPath,s.__cms),c=(s.__down,s.__node,s.__ossMirror,s.__ossRoot,s.__visibleMap),u=(s.default_avatar,s.__Root),d=s.__OriginRoot,h=(s.__Github,s.__Preview,s.__server,s.__sso,s.__spider,s.__spider2,s.__next,s.__pay,s.__team,s.__lua,s.__dbm,s.__helperUrl,s.__os,s.__jx3,s.__cdn),f=(s.__staticPath,s.__clients),g=s.__postType,p=(s.__wikiType,s.__appType,s.__gameType,s.__sourceType,s.__userGroup,s.__userLevel,s.__userLevelColor,s.__Links,s.feedback)},"0236":function(t,e,a){},"048d":function(t,e,a){},"07ac":function(t,e,a){"use strict";var i=a("23e7"),n=a("6f53").values;i({target:"Object",stat:!0},{values:function(t){return n(t)}})},1344:function(t,e,a){"use strict";e["a"]=function(t){return{all:t=t||new Map,on:function(e,a){var i=t.get(e);i?i.push(a):t.set(e,[a])},off:function(e,a){var i=t.get(e);i&&(a?i.splice(i.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var i=t.get(e);i&&i.slice().map((function(t){t(a)})),(i=t.get("*"))&&i.slice().map((function(t){t(e,a)}))}}}},"140d":function(t,e,a){},1754:function(t,e,a){},"221f":function(t,e,a){},"4ec9":function(t,e,a){"use strict";a("6f48")},"57b7":function(t,e,a){"use strict";a("048d")},"5f73":function(t,e,a){"use strict";a("140d")},"6f48":function(t,e,a){"use strict";var i=a("6d61"),n=a("6566");i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},"6f53":function(t,e,a){"use strict";var i=a("83ab"),n=a("d039"),s=a("e330"),o=a("e163"),r=a("df75"),l=a("fc6a"),c=a("d1e7").f,u=s(c),d=s([].push),h=i&&n((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),f=function(t){return function(e){var a,n=l(e),s=r(n),c=h&&null===o(n),f=s.length,g=0,p=[];while(f>g)a=s[g++],i&&!(c?a in n:u(n,a))||d(p,t?[a,n[a]]:n[a]);return p}};t.exports={entries:f(!0),values:f(!1)}},"709f":function(t,e,a){},7903:function(t){t.exports=JSON.parse('{"1":{"label":"攻略心得","val":"index"},"2":{"label":"萌新指南","val":"guide"},"3":{"label":"江湖故事","val":"news"},"4":{"label":"煮酒论剑","val":"fiction"}}')},"952a":function(t,e,a){"use strict";a("0236")},b010:function(t,e,a){"use strict";a("709f")},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d28b"),a("d9e2"),a("d3b7"),a("3ca3"),a("ddb0");var i=a("06c5");function n(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(i["a"])(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,o=t},f:function(){try{r||null==a["return"]||a["return"]()}finally{if(l)throw o}}}}},baa2:function(t,e,a){"use strict";a("221f")},c740:function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").findIndex,s=a("44d2"),o="findIndex",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),i({target:"Array",proto:!0,forced:r},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},d049:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{ref:"main",staticClass:"main",style:{height:t.maxH+"px"},attrs:{id:"main"}},[t._l(t.list,(function(a,i){return e("div",{key:i,ref:"item"+i,refInFor:!0,staticClass:"item",class:[t.moveMode,t.styleArr[i]&&t.styleArr[i].showClass],style:t.styleArr[i]},[t._t("default",null,{state:t.styleArr[i]&&t.styleArr[i].state||"loading",data:a,index:i})],2)})),t.autoResize?e("iframe",{ref:"autoExpand",staticClass:"autoExpand"}):t._e()],2)},n=[],s=a("b85c"),o=a("ade3"),r=a("c14f"),l=a("1da1"),c=(a("99af"),a("14d9"),a("fb6a"),a("4e82"),a("e9f5"),a("7d54"),a("4ec9"),a("a9e3"),a("b64b"),a("d3b7"),a("07ac"),a("3ca3"),a("159b"),a("ddb0"),{}),u=new Map,d=null,h={props:{list:{type:Array,default:function(){return[]}},imgKey:{type:String,default:"src"},col:{type:Number,default:0},colWidth:{type:Number,default:0},autoResize:{type:Boolean,default:!0},fillBox:{type:Boolean,default:!1},moveMode:{type:String,default:"transform"},moveTransitionDuration:{type:Number,default:.4}},data:function(){return{styleArr:[],colW:0,maxH:1,mainW:0,_col:0,__col:0,batchCB:null,onRender:null}},computed:{resizeDebounce:function(){return this.isTransition?this.debounce(this.resize,100):this.resize},isTransition:function(){return this.autoResize&&this.col<1}},mounted:function(){this.mainW=this.getWidth(),this.init(),this.polling()},watch:Object(o["a"])(Object(o["a"])({},"list.length",{deep:!1,handler:function(t,e){var a=this;return Object(l["a"])(Object(r["a"])().m((function i(){return Object(r["a"])().w((function(i){while(1)switch(i.n){case 0:if(!(t>e)){i.n=2;break}return i.n=1,a.$nextTick();case 1:a.batchCB=a.initItem(e);case 2:return i.a(2)}}),i)})))()}}),"autoResize",{handler:function(t){var e=this;t&&setTimeout((function(){e.$refs.autoExpand.contentWindow.onresize=function(t){e.resizeDebounce()}}))},immediate:!0}),methods:{repaints:function(){var t=arguments,e=this;return Object(l["a"])(Object(r["a"])().m((function a(){var i,n;return Object(r["a"])().w((function(a){while(1)switch(a.n){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:0,n=t.length>1?t[1]:void 0,a.n=1,e.$nextTick();case 1:e.mainW=e.getWidth(),e.calcCol(),e.calcXY(i,"repaints",n);case 2:return a.a(2)}}),a)})))()},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.calcCol(),this.batchCB=this.initItem(t)},getWidth:function(){return(this.$refs.main.getBoundingClientRect()||{}).width||0},resize:function(){var t=arguments,e=this;return Object(l["a"])(Object(r["a"])().m((function a(){var i,n;return Object(r["a"])().w((function(a){while(1)switch(a.n){case 0:if(i=t.length>0&&void 0!==t[0]?t[0]:0,e.$refs.main){a.n=1;break}return a.a(2);case 1:if(n=e.getWidth(),n!=e.mainW){a.n=2;break}return a.a(2);case 2:e.mainW=n,e.calcCol(),e.autoResize&&(e.fillBox||e.col||e.__col!=e._col)&&e.calcXY(i,"resize");case 3:return a.a(2)}}),a)})))()},calcCol:function(){var t=3;return this.col?(t=this.col,this.colW=this.mainW/t):this.colWidth?(t=parseInt(this.mainW/this.colWidth)||1,this.mainW%this.colWidth&&this.fillBox?this.colW=this.mainW/t:this.colW=this.colWidth):this.colW=this.mainW/t,this.__col=t,t},polling:function(){clearInterval(d),d=setInterval((function(){var t,e=Object(s["a"])(u);try{for(e.s();!(t=e.n()).done;){var a=t.value,i=a[0];if(a=a[1],!(a.img.height>0||a.img.complete))return;a.cb(a.img),u.delete(i)}}catch(n){e.e(n)}finally{e.f()}}),300)},initItem:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this.list.slice(e),i=0;a.forEach((function(n,s){var o=s+e;t.styleArr[o]||(t.styleArr[o]={}),t.styleArr[o].width=t.colW+"px",t.loader(n[t.imgKey],(function(){i++,t.styleArr[o].complete=!0,t.styleArr[o].state="complete",t.$set(t.styleArr,o,t.styleArr[o]),i==a.length&&t.waitRender(e)}),t.getColDom(o).getElementsByClassName("waterfall-img")[0],s)}))},waitRender:function(t){for(var e=0;e<this.styleArr.length;e++)if(e<t&&(!this.styleArr[e]||!this.styleArr[e].complete))return;this.calcXY(t)},calcXY:function(){var t=arguments,e=this;return Object(l["a"])(Object(r["a"])().m((function a(){var i,n,s,o,l,c,u,d,h,f,g,p;return Object(r["a"])().w((function(a){while(1)switch(a.n){case 0:i=t.length>0&&void 0!==t[0]?t[0]:0,n=t.length>1&&void 0!==t[1]?t[1]:"data",s=t.length>2&&void 0!==t[2]?t[2]:isNaN(s)?e.moveTransitionDuration:s,o=i,e._col=e.__col,l=i;case 1:if(!(l<e.styleArr.length)){a.n=4;break}if(e.styleArr[l]&&e.styleArr[l].complete){a.n=2;break}return a.a(3,3);case 2:e.styleArr[l].width=e.colW+"px",e.styleArr[l].showClass&&(e.styleArr[l]["transition-duration"]="".concat(s,"s"));case 3:l++,a.n=1;break;case 4:return a.n=5,e.$nextTick();case 5:c=o;case 6:if(!(c<e.styleArr.length)){a.n=10;break}if(e.styleArr[c]&&e.styleArr[c].complete){a.n=7;break}return a.a(2);case 7:if(u=e.getColDom(c),u){a.n=8;break}return a.a(2);case 8:e.styleArr[c].height=u.offsetHeight,d=e.getMinCol(c),h=d.curTop,f=d.curCol,g=h+e.styleArr[c].height,p=d.maxH>g?d.maxH:g,"convention"==e.moveMode?(e.styleArr[c].left="".concat(f*e.colW,"px"),e.styleArr[c].top="".concat(h,"px")):e.styleArr[c].transform="translate3d(".concat(f*e.colW,"px, ").concat(h,"px ,0)"),e.maxH=p,e.styleArr[c].bottomTop=g,e.styleArr[c].col=f,e.styleArr[c].showClass="show",e.styleArr[c].state="show";case 9:c++,a.n=6;break;case 10:return e.$forceUpdate(),a.n=11,e.$nextTick();case 11:e.onRender&&e.onRender({cause:n,start:i});case 12:return a.a(2)}}),a)})))()},getMinCol:function(t){if(!t)return{curCol:0,curTop:0,maxH:0};for(var e=0,a=0,i={},n=t-1;n>=0;n--){var s=this.styleArr[n];if(s&&!i[s.col]&&(i[s.col]=s),Object.keys(i).length==this.__col)break}var o=Object.values(i).sort((function(t,e){return t.bottomTop-e.bottomTop}));return t<this.__col?(e=t,a=0):(e=o[0].col,a=o[0].bottomTop),{curCol:e,curTop:a,maxH:o[o.length-1].bottomTop}},loader:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(a.height>0)return e(a);if(!t&&!a.src)return e();a.src&&(t=a.src);var n=c[t]&&c[t].img;if(n){if(n.complete||n.height>0)return e(n)}else{if(a.src?n=a:(n=new Image,n.src=t),n.complete||n.height>0)return e(n);c[t]={img:n,cbs:[],i:i},u.set(n.src,{img:n,cb:function(){c[t].cbs.forEach((function(t){return t()})),c[t].cbs.length=0}})}c[t].cbs.push(e)},getColDom:function(t){return this.$refs["item"+t][0]},debounce:function(t,e){var a;return function(){var i=this,n=arguments;a&&clearTimeout(a),a=setTimeout((function(){t.apply(i,n)}),e)}}}},f=h,g=(a("baa2"),a("2877")),p=Object(g["a"])(f,i,n,!1,null,"f2f37cbc",null);e["a"]=p.exports},f723:function(t,e,a){"use strict";a("1754")},fb92:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return c}));a("99af");var i=a("5a0c"),n=a.n(i),s=a("4208");function o(t){return n()().from(n()(t))}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.getFullYear(),n=t.getMonth()+1,s=t.getDate(),o=a?"".concat(i).concat(e).concat(l(n)).concat(e).concat(l(s)):"".concat(i).concat(e).concat(n).concat(e).concat(s);return o}function l(t){return t<10?"0"+t:t}function c(t){var e=n()(t),a=n()(),i=a.diff(e,"day");return 0===i?a.diff(e,"minute")<=60?{text:"刚刚",icon:"el-icon-loading"}:a.diff(e,"minute")<=120?{text:"2小时内",icon:"el-icon-time"}:{text:e.format("HH:mm"),icon:"el-icon-time"}:1===i?{text:"昨天",icon:"el-icon-time"}:i>=2&&i<=365?{text:e.format("MM-DD"),icon:"el-icon-date"}:{text:e.format("YYYY-MM-DD"),icon:"el-icon-date"}}a("a471"),n.a.locale("zh-cn"),n.a.extend(s)},ff76:function(t,e,a){"use strict";a.r(e);a("498a");var i=function(){var t=this,e=t._self._c;return e("CommunityLayout",[e("div",{staticClass:"p-community-v2"},[e("ListTabs",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),e("div",{staticClass:"m-archive-search",attrs:{slot:"search-before"},slot:"search-before"},[e("a",{staticClass:"u-publish el-button el-button--primary",attrs:{href:t.publish_link}},[t._v("+ 发布作品")]),e("el-input",{attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:t.onSearch},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[e("el-button",{attrs:{icon:"el-icon-position"},on:{click:t.onSearch}})]},proxy:!0}]),model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[e("i",{staticClass:"el-icon-search"}),t._v(" 关键词")])])],1),e("div",{staticClass:"m-archive-filter"},[e("div",{staticClass:"m-filter__left"},[e("clientBy",{attrs:{type:t.client},on:{filter:t.filterImperceptibly}}),e("el-checkbox",{attrs:{"true-label":1,"false-label":0,border:"",size:"mini"},on:{change:t.onIsStarChange},model:{value:t.is_star,callback:function(e){t.is_star=e},expression:"is_star"}},[t._v("只看精选")])],1),e("el-radio-group",{staticClass:"m-list-view",attrs:{size:"mini"},on:{input:t.onViewChange},model:{value:t.view,callback:function(e){t.view=e},expression:"view"}},[e("el-radio-button",{attrs:{label:1}},[e("i",{staticClass:"el-icon-s-grid"}),t._v(" 卡片")]),e("el-radio-button",{attrs:{label:2}},[e("i",{staticClass:"el-icon-tickets"}),t._v(" 列表")])],1)],1),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-community-content"},[1==t.view?[t.topTopicData?e("TopicTop",{key:t.topTopicData.id,attrs:{data:t.topTopicData}}):t._e(),t.list.length?e("div",{staticClass:"m-topic-list"},[e("Waterfall",{ref:"waterfall",attrs:{col:t.col,autoResize:!0,moveTransitionDuration:0,fillBox:!0,list:t.list,gutter:20},scopedSlots:t._u([{key:"default",fn:function(t){return e("div",{class:{fadeIn:"show"==t.state}},[e("TopicItem",{key:t.data.id,attrs:{data:t.data}})],1)}}],null,!1,4056359723)})],1):t._e()]:[e("div",{staticClass:"m-archive-list m-topic-list"},[e("ul",{staticClass:"u-list"},[t.topTopicData?e("ListItem",{key:t.topTopicData.id,attrs:{keyword:t.title,item:t.topTopicData}}):t._e(),t._l(t.list,(function(a){return e("ListItem",{key:a.id,attrs:{keyword:t.title,item:a}})}))],2)])],e("CommunityPagination",{ref:"paginationRef",attrs:{total:t.total,per:t.per,"current-page":t.page,loading:t.loading,"has-next-page":t.hasNextPage},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":t.changePage,"append-page":t.appendPage}})],2),e("el-backtop",{staticStyle:{"z-index":"999"}})],1),e("design-task",{attrs:{post:t.currentPost},model:{value:t.showDesignTask,callback:function(e){t.showDesignTask=e},expression:"showDesignTask"}})],1)},n=[],s=a("2909"),o=a("5530"),r=(a("99af"),a("4de4"),a("7db0"),a("c740"),a("caad"),a("a15b"),a("d81d"),a("14d9"),a("b0c0"),a("e9f5"),a("910d"),a("f665"),a("7d54"),a("ab43"),a("b64b"),a("d3b7"),a("2532"),a("159b"),a("81fc")),l=a("85e4"),c=a("a27f"),u=a("6f4a"),d=a("d8ad"),h=a("d049"),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-community-layout",attrs:{id:"app"}},[e("Header"),e("Breadcrumb",{attrs:{name:"魔盒论坛",slug:"community",publishEnable:!1,topicEnable:!1,adminEnable:!1,feedbackEnable:!0,crumbEnable:!0}},[e("Info"),e("publish-gate",{attrs:{slot:"op-append"},slot:"op-append"})],1),e("LeftSidebar",[e("Nav")],1),e("Main",{attrs:{withoutRight:!1}},[e("div",{staticClass:"m-main"},[t._t("default")],2),e("RightSidebar",{staticClass:"m-bbs-right-side",attrs:{"show-toggle":!0}},[e("Side",{staticClass:"m-extend"})],1),e("Footer")],1)],1)},g=[],p=a("8f33"),m=a("3fac"),v=a("ee7f"),_=a("98e8"),b={name:"CommunityLayout",props:[],data:function(){return{}},computed:{slug:function(){return this.$route.name}},methods:{getAppIcon:l["g"]},components:{Nav:m["a"],"publish-gate":_["a"],Info:p["a"],Side:v["a"]}},y=b,w=(a("b010"),a("2877")),C=Object(w["a"])(y,f,g,!1,null,null,null),x=C.exports,k=function(){var t=this,e=t._self._c;return e("el-tabs",{staticClass:"m-tabs",on:{"tab-click":t.changeView},model:{value:t.view,callback:function(e){t.view=e},expression:"view"}},[e("el-tab-pane",{attrs:{label:"心得",name:"insights"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("svg",{class:"u-icon-img",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{fill:"currentColor",d:"M6.62 6.91a3 3 0 013.73-1.39 3.31 3.31 0 012.54 3.32 3.34 3.34 0 01-2.53 3.28 15 15 0 01-7 .05c-1.3-.33-1.81-.84-1.81-2.2a11.18 11.18 0 011.52-6.13 6.32 6.32 0 00.41-1.18c.22-.58.48-1.22 1.2-1.22A2.83 2.83 0 017.1 2.49a.5.5 0 01.12.37 7.08 7.08 0 01-.62 1.61A1.55 1.55 0 015.3 5h-.71l1.3 2.6c.13.44.27.87.39 1.31.23.86.44 1.73-.46 2.45a1.15 1.15 0 001.09-1.24 8.3 8.3 0 00-.29-3.21zM6.27 3.4a1.21 1.21 0 00-.89-.27c-.17 0-.37.05-.37.26s.24.19.39.17a8.33 8.33 0 00.87-.16z"}})]),e("b",[t._v("心得")])])]),e("el-tab-pane",{attrs:{label:"故事",name:"stories"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("svg",{class:"u-icon-img",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M3.944 13h7.5c.307 0 .556-.269.556-.6V1.6c0-.331-.249-.6-.556-.6H3.667C2.747 1 2 1.806 2 2.8v8.1c0 1.16.87 2.1 1.944 2.1zM4 6.5l1.5-1.429L7 6.5v-5H4v5zm7.111 3.5H3.968c-.473 0-.857.448-.857 1s.384 1 .857 1h7.143v-2z"}})]),e("b",[t._v("故事")])])]),e("el-tab-pane",{attrs:{label:"讨论",name:"discussions"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("svg",{class:"u-icon-img",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M8.2 13.7c-3-1.2-7.2-3-7.2-6.9A4.8 4.8 0 015.8 2h2.4a4.8 4.8 0 010 9.6v2.1zM5.91 7.182a.818.818 0 11-1.637 0 .818.818 0 011.636 0zm2.181 0a.818.818 0 11-1.636 0 .818.818 0 011.636 0zm2.182 0a.818.818 0 11-1.637 0 .818.818 0 011.637 0z"}})]),e("b",[t._v("讨论")])])]),e("el-tab-pane",{attrs:{label:"求助",name:"help"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("svg",{class:"u-icon-img",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M8.412 12.412l3.94-3.952a3.792 3.792 0 00-5.354-5.34 3.792 3.792 0 00-5.156.192 3.81 3.81 0 00-.206 5.156l3.945 3.946a2 2 0 002.83-.002zM3.5 7a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}})]),e("b",[t._v("求助")])])])],1)},j=[],O=a("c9d2"),T={insights:"心得",stories:"故事",discussions:"讨论",help:"求助"},A={"心得":"insights","故事":"stories","讨论":"discussions","求助":"help"},z={name:"tabs",props:{value:{type:String,default:"心得"}},data:function(){return{}},computed:{view:{get:function(){return A[this.value]||"insights"},set:function(t){this.$emit("input",T[t])}},client:function(){return this.$store.state.client||"std"}},methods:{changeView:function(t){this.view=t.name}},mounted:function(){}},S=z,L=(a("5f73"),Object(w["a"])(S,k,j,!1,null,null,null)),P=L.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-topic-pagination"},[e("el-button",{staticClass:"m-topic-pages",style:{fontSize:t.hasNextPage?"14px":"12px"},attrs:{type:t.hasNextPage?"primary":"text",loading:t.loading,disabled:!t.hasNextPage,icon:t.hasNextPage?"el-icon-arrow-down":""},on:{click:t.appendPage}},[t._v(" "+t._s(t.hasNextPage?"加载更多":"没有更多了")+" ")]),e("el-pagination",{staticClass:"m-community-pages",attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.localCurrentPage},on:{"update:currentPage":function(e){t.localCurrentPage=e},"update:current-page":function(e){t.localCurrentPage=e},"current-change":t.handlePageChange}})],1)},H=[],M=(a("a9e3"),{name:"PaginationComponent",props:{per:{type:Number,default:10},total:{type:Number,required:!0},currentPage:{type:Number,default:1},loading:{type:Boolean,default:!1},hasNextPage:{type:Boolean,default:!1}},data:function(){return{localCurrentPage:this.currentPage}},watch:{currentPage:function(t){this.localCurrentPage=t}},methods:{appendPage:function(){this.$emit("append-page")},handlePageChange:function(t){this.localCurrentPage=t,this.$emit("update:currentPage",t),this.$emit("current-change",t)}}}),I=M,B=Object(w["a"])(I,F,H,!1,null,null,null),D=B.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-topic-box",style:{"--title-color":t.skin.titleColor,"--title-hover-color":t.skin.titleHoverColor,"--border-hover-color":t.skin.borderHoverColor}},[e("div",{staticClass:"m-topic-top"},[e("div",{staticClass:"m-topic-top__time"},[e("i",{class:t.getTimeAgo(t.data.latest_reply_at||t.data.updated_at).icon}),e("span",[t._v(t._s(t.getTimeAgo(t.data.latest_reply_at||t.data.updated_at).text)+" ")])]),e("div",{staticClass:"m-topic-top_right"},[e("div",{staticClass:"u-item"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"13.333",height:"12",viewBox:"0 0 13.333 12",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"#7A7A7A",d:"M4 12c-2.209 0-4-1.797-4-3.996V3.996A3.994 3.994 0 014 0h5.333c2.209 0 4 1.797 4 3.996V12H4zm0-1.333a2.67 2.67 0 01-2.667-2.663V3.996A2.66 2.66 0 014 1.333h5.333A2.67 2.67 0 0112 3.996v6.67H4zm0-4h1.333V5.333H4v1.334zm4 0h1.333V5.333H8v1.334z"}})]),t._v(" "+t._s(t.data.reply_count||0)+" ")]),e("div",{staticClass:"u-item"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14.667",height:"13.574",viewBox:"0 0 14.667 13.574",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"#7A7A7A",d:"M11.887 13.574H.667A.667.667 0 010 12.908V6.24c0-.368.298-.667.667-.667h2.321c.217 0 .42-.105.545-.282L7.168.142A.333.333 0 017.59.034L8.8.64a1.667 1.667 0 01.87 1.902l-.602 2.366h4.266c.737 0 1.334.597 1.334 1.333v1.403c0 .174-.034.347-.1.508l-2.064 5.01a.667.667 0 01-.616.412zM4 6.634c.242-.144.455-.337.622-.573l3.14-4.448.44.22c.141.07.214.229.175.38L7.775 4.58a1.333 1.333 0 001.292 1.662h4.266v1.403L11.44 12.24H4V6.633zM1.333 12.24V6.908h1.334v5.333H1.333z"}})]),t._v(" "+t._s(t.data.agree_count||0)+" ")]),e("div",{class:"m-topic-category",style:"background-color: ".concat(t.styles.hoverColor,";color:").concat(t.styles.color,";"),on:{click:function(e){return t.onCategoryChange(t.data.category)}}},[e("img",{directives:[{name:"svg-inline",rawName:"v-svg-inline"}],staticClass:"u-icon",attrs:{src:a("1c2f")("./".concat(t.styles.icon,".svg"))}}),e("div",[t._v(t._s(t.data.category))])]),e("svg",{class:"u-mocha",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"272.114",height:"27",viewBox:"0 0 272.114 27",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{fill:"#FFF",d:"M4.334 26.5h267.28v-16c0-5.523-4.576-10-10.099-10H93.264c-42.018 0-47.452 26-88.93 26z"}}),e("path",{attrs:{fill:"rgba(236, 236, 236, 1)",d:"M93.264 0H261.515c5.799 0 10.599 4.701 10.599 10.5V27h-.5.5H.5v-1h3.834q7.342 0 13.883-1.103 5.824-.983 11.37-2.908 4.627-1.606 9.723-4.12 2.042-1.007 4.511-2.33 1.484-.796 4.42-2.414 2.961-1.632 4.462-2.436 2.505-1.343 4.584-2.367 5.206-2.565 9.956-4.208Q72.95 2.139 78.956 1.13 85.696 0 93.264 0v1q-7.485 0-14.142 1.117-5.925.994-11.552 2.942-4.691 1.623-9.841 4.16-2.064 1.017-4.553 2.351-1.496.802-4.453 2.43-2.94 1.621-4.43 2.42-2.483 1.331-4.54 2.346-5.153 2.54-9.838 4.167-5.625 1.953-11.532 2.95Q11.76 27 4.333 27H.5c-.667 0-.667-1 0-1h271.114v.5-.5.5h-.5v-16c0-5.247-4.352-9.5-9.599-9.5H93.264V0z"}})])])]),e("div",{staticClass:"u-box m-topic-box__content",class:[{withSkin:t.skin.background},t.skin.style],style:{backgroundImage:"url(".concat(t.skin.background,")")}},[e("div",{staticClass:"u-content-aside"},[e("a",{staticClass:"m-topic-title",style:t.hightStyle,attrs:{href:t.getPostUrl(t.data.id),target:"_blank"}},[t.isTop?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FF6969"}}),e("path",{attrs:{d:"M5.654 10.916l7.671 7.94s4.819-9.49 7.194-9.003c2.376.488-6.481-9.125-5.852-6.28.63 2.845-9.013 7.343-9.013 7.343z",fill:"#FFF"}}),e("path",{attrs:{d:"M4.114 9.325L14.852 20.44l-1.055-5.26-4.602-4.763-5.081-1.092zM3.09 20.808l7.06-5.225L8.137 13.5l-5.048 7.309z",fill:"#FFF"}})]):t._e(),t.data.is_star?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FFBB69"}}),e("path",{attrs:{d:"M21 12l-6.582-2.418L12 3 9.582 9.582 3 12l6.582 2.418L12 21l2.418-6.582L21 12z",fill:"#FFF"}})]):t._e(),t._v(" "+t._s(t.data.title)+" ")]),e("a",{staticClass:"u-cover",attrs:{href:t.getPostUrl(t.data.id),target:"_blank"}},[e("el-image",{attrs:{src:t.getBanner(t.data),alt:"banner",srcset:""}})],1),t.data.color_tag&&t.data.color_tag.length?e("div",{staticClass:"m-topic-tag"},t._l(t.data.color_tag,(function(a,i){return e("span",{key:i,style:{backgroundColor:a.color}},[t._v(" "+t._s(a.label)+" ")])})),0):t._e(),t.data.collection_id&&t.data.collection.id&&t.data.collection.title?e("div",{staticClass:"m-topic-collection"},[e("a",{attrs:{href:"/collection/".concat(t.data.collection_id),target:"_blank"}},[e("span",{staticClass:"u-label"},[t._v("小册")]),e("span",{staticClass:"u-value"},[t._v(t._s(t.data.collection.title))])])]):t._e(),e("div",{staticClass:"m-topic-userInfo"},[t.data.anonymous?e("span",[e("img",{staticClass:"m-topic-userInfo__avatar",attrs:{src:t.avatarUrl,alt:"",srcset:""}}),e("span",{staticClass:"m-topic-userInfo__name"},[t._v("神秘侠士")])]):e("a",{attrs:{href:t.authorLink(t.data.ext_user_info.id),target:"_blank"}},[e("img",{staticClass:"m-topic-userInfo__avatar",attrs:{src:t.avatarUrl,alt:"",srcset:""}}),e("span",{staticClass:"m-topic-userInfo__name"},[t._v(t._s(t.data.ext_user_info.display_name))])])])]),e("a",{staticClass:"u-box-content",attrs:{href:t.getPostUrl(t.data.id),target:"_blank"}},[e("a",{staticClass:"m-topic-content",attrs:{href:t.getPostUrl(t.data.id),target:"_blank"}},[e("span",{staticClass:"m-topic-title",style:t.hightStyle,attrs:{target:"_blank"}},[t.isTop?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FF6969"}}),e("path",{attrs:{d:"M5.654 10.916l7.671 7.94s4.819-9.49 7.194-9.003c2.376.488-6.481-9.125-5.852-6.28.63 2.845-9.013 7.343-9.013 7.343z",fill:"#FFF"}}),e("path",{attrs:{d:"M4.114 9.325L14.852 20.44l-1.055-5.26-4.602-4.763-5.081-1.092zM3.09 20.808l7.06-5.225L8.137 13.5l-5.048 7.309z",fill:"#FFF"}})]):t._e(),t.data.is_star?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FFBB69"}}),e("path",{attrs:{d:"M21 12l-6.582-2.418L12 3 9.582 9.582 3 12l6.582 2.418L12 21l2.418-6.582L21 12z",fill:"#FFF"}})]):t._e(),t._v(" "+t._s(t.data.title)+" ")]),e("div",{staticClass:"u-introduction",domProps:{innerHTML:t._s(t.introduction)}})]),t.data.extra_images&&t.data.extra_images.length?e("div",{staticClass:"m-topic-imgs scrollbar"},t._l(t.data.extra_images,(function(a,i){return e("a",{key:i,staticClass:"u-item"},[e("el-image",{attrs:{src:t.getSquareBanner(a),fit:"fill"}})],1)})),0):t._e()])])])},W=[],$=(a("e9c4"),a("ac1f"),a("5319"),a("5087"),a("65c2")),R=a("2ef0"),J=a("fb92"),V="community_topic_skin",E={props:["data"],inject:["getCategoryStyle","onCategoryChange"],data:function(){return{skinJson:{}}},computed:{skin:function(){if(this.data.decoration_id&&this.data.decoration.val){var t=this.skinJson,e=this.data.decoration.val;if(t[e])return{background:$["__cdn"]+"design/decoration/palu/".concat(e,".png"),titleColor:t[e].titleColor,titleHoverColor:t[e].titleHoverColor,borderHoverColor:t[e].borderHoverColor,style:t[e].style||""}}return{titleColor:"#0366d6",titleHoverColor:"rgba(255, 64, 128, 1)",borderHoverColor:"#0366d6",style:""}},hightStyle:function(){return this.data.is_hight&&this.data.hight_color?{color:this.data.hight_color}:{}},styles:function(){return this.getCategoryStyle(this.data.category||"")},introduction:function(){var t=this.data,e=t.introduction;return e=e.replace(/\.letter--[\s\S]*$/,""),e?e.length>=200?e+"...":e.length<=0?"......":e:""},isTop:function(){return this.data.is_top||this.data.is_category_top},avatarUrl:function(){var t,e;return Object(l["u"])(null===(t=this.data)||void 0===t||null===(e=t.ext_user_info)||void 0===e?void 0:e.avatar)}},mounted:function(){this.getSkinJson()},methods:{getSkinJson:function(){var t=this,e=sessionStorage.getItem(V);e?this.skinJson=JSON.parse(e):Object(r["h"])().then((function(e){t.skinJson=e.data,sessionStorage.setItem(V,JSON.stringify(e.data))}))},getTimeAgo:J["c"],authorLink:l["a"],getBanner:function(t){if(t.banner_img)return t.banner_img.indexOf("jx3box.com")>=0?t.banner_img.indexOf(".webp")>-1?t.banner_img:Object(l["l"])(t.banner_img,[336,176]):t.banner_img;if(t.extra_images&&t.extra_images.length)return t.extra_images[0].indexOf("jx3box.com")>=0?Object(l["l"])(t.extra_images[0],[336,176]):t.extra_images[0];var e=Object(R["random"])(1,39);return $["__cdn"]+"design/random_cover/".concat(e,".jpg")},getSquareBanner:function(t){return t.indexOf("jx3box.com")>=0?Object(l["l"])(t,96):t},getPostUrl:function(t){return"/community/".concat(t)}}},U=E,q=Object(w["a"])(U,N,W,!1,null,null,null),Y=q.exports,Q=(a("2c3e"),function(){var t=this,e=t._self._c;return e("li",{staticClass:"u-item u-community-item",class:{hasMoka:t.skin.background},style:{backgroundImage:"url(".concat(t.skin.background,")")}},[e("a",{staticClass:"u-banner",attrs:{href:t.postLink(t.item.id),target:t.target}},[e("img",{key:t.item.ID,attrs:{src:t.getBanner(t.item.banner_img,t.item.post_subtype)}})]),e("h2",{staticClass:"u-post",class:{isSticky:t.item.sticky}},[t.isTop?e("svg",{class:"u-post-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FF6969"}}),e("path",{attrs:{d:"M5.654 10.916l7.671 7.94s4.819-9.49 7.194-9.003c2.376.488-6.481-9.125-5.852-6.28.63 2.845-9.013 7.343-9.013 7.343z",fill:"#FFF"}}),e("path",{attrs:{d:"M4.114 9.325L14.852 20.44l-1.055-5.26-4.602-4.763-5.081-1.092zM3.09 20.808l7.06-5.225L8.137 13.5l-5.048 7.309z",fill:"#FFF"}})]):t._e(),t.item.is_star?e("svg",{class:"u-post-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FFBB69"}}),e("path",{attrs:{d:"M21 12l-6.582-2.418L12 3 9.582 9.582 3 12l6.582 2.418L12 21l2.418-6.582L21 12z",fill:"#FFF"}})]):t._e(),e("a",{staticClass:"u-title",style:t.hightStyle,attrs:{href:t.postLink(t.item.id),target:t.target},domProps:{innerHTML:t._s(t.highlightText(t.item.title))}}),t.hasPermission?e("span",{staticClass:"u-push"},[t.showPushDate?e("time",{staticClass:"u-push__time",class:{"is-recent":t.isRecent()}},[t._v(t._s(t.pushDate)+" 已推送")]):t._e(),e("el-button",{staticClass:"u-push__btn",attrs:{size:"mini",type:"warning",icon:"el-icon-s-promotion"},on:{click:t.onPush}},[t._v("推送")])],1):t._e()]),e("div",{staticClass:"u-content u-desc"},[e("div",{staticClass:"u-metalist u-collection"},[e("strong",[t._v("摘要")]),e("em",[e("span",{domProps:{innerHTML:t._s(t.highlightText(t.item.introduction))}})])]),e("div",{staticClass:"u-metalist u-topics"},[e("strong",[t._v("标签")]),~~t.item.collection_id?[e("a",{attrs:{href:"/collection/".concat(t.item.collection_id),target:"_blank"}},[t._v("《"+t._s(t.item.collection&&t.item.collection.title)+"》")])]:t._e(),e("span",{staticClass:"m-topic-tag"},[e("span",[t._v(t._s(t.item.category))]),t.item.color_tag?t._l(t.item.color_tag,(function(a,i){return e("span",{key:i,style:{backgroundColor:a.color}},[t._v(" "+t._s(a.label)+" ")])})):t._e(),t.item.is_star?e("span",{staticClass:"u-star-tag"},[t._v("精选")]):t._e()],2)],2)]),e("div",{staticClass:"u-misc"},[e("img",{staticClass:"u-author-avatar",attrs:{src:t._f("showAvatar")(t.item.ext_user_info),alt:t._f("showNickname")(t.item.ext_user_info)}}),t.item.anonymous?e("span",[t._v("神秘侠士")]):e("a",{staticClass:"u-author-name",attrs:{href:t._f("authorLink")(t.item.user_id),target:"_blank"}},[t._v(t._s(t._f("showNickname")(t.item.ext_user_info)))]),e("span",{staticClass:"u-date"},[t._v(" Updated on "),"update"==t.order?e("time",[t._v(t._s(t._f("dateFormat")(t.item.post_modified)))]):e("time",[t._v(t._s(t._f("dateFormat")(t.item.updated_at)))])])])])}),X=[],G=(a("4d63"),a("c607"),a("25f0"),a("1647")),K=a("e4f1"),Z=a("7903"),tt=a("5a0c"),et=a.n(tt),at="community",it="community_topic_skin",nt={name:"ListItem",props:["item","order","keyword"],components:{},data:function(){return{target:Object(l["b"])(),start:1,end:39,skinJson:{}}},computed:{client:function(){var t;return null===(t=this.item)||void 0===t?void 0:t.client},hasPermission:function(){return O["a"].hasPermission("push_banner")},pushDate:function(t){var e,a=t.item,i=null===a||void 0===a||null===(e=a.log)||void 0===e?void 0:e.push_at;return Object(K["a"])(new Date(i))},showPushDate:function(){var t;return Boolean(null===(t=this.item)||void 0===t?void 0:t.log)},isTop:function(){return this.item.is_top||this.item.is_category_top},hightStyle:function(){return this.item.is_hight&&this.item.hight_color?{color:this.item.hight_color}:{}},skin:function(){if(this.item.decoration_id&&this.item.decoration.val){var t=this.skinJson,e=this.item.decoration.val;if(t[e])return{background:$["__cdn"]+"design/decoration/palu/".concat(e,".png"),titleColor:t[e].titleColor,titleHoverColor:t[e].titleHoverColor,borderHoverColor:t[e].borderHoverColor}}return{titleColor:"#0366d6",titleHoverColor:"rgba(255, 64, 128, 1)",borderHoverColor:"#0366d6"}}},watch:{},methods:{getBanner:function(t,e){if(t)return Object(l["v"])(t);var a=Object(R["random"])(this.start,this.end);return $["__cdn"]+"design/random_cover/".concat(a,".jpg")},reporterLink:function(t){var e="std"===this.client?"www":"origin";return"".concat(e,":/").concat(at,"/")+t},showSubtype:function(t){var e;return(null===(e=Z[t])||void 0===e?void 0:e.label)||""},showDate:K["a"],isRecent:function(){var t,e,a=null===(t=this.item)||void 0===t||null===(e=t.log)||void 0===e?void 0:e.push_at;return et()().diff(et()(a),"day")<30},onPush:function(){var t,e,a={post_type:"community",post_title:this.item.title,ID:this.item.id,author:(null===(t=this.item)||void 0===t||null===(e=t.ext_user_info)||void 0===e?void 0:e.display_name)||"匿名"};d["a"].emit("design-task",a)},postLink:function(t){return location.origin+"/".concat(at,"/")+t},getSkinJson:function(){var t=this,e=sessionStorage.getItem(it);e?this.skinJson=JSON.parse(e):Object(r["h"])().then((function(e){t.skinJson=e.data,sessionStorage.setItem(it,JSON.stringify(e.data))}))},highlightText:function(t){if(!this.keyword)return t;var e=new RegExp("(".concat(this.keyword,")"),"gi");return t=t.replace(e,'<span style="background-color: #ffff00; color: #ff0000;">$1</span>'),t}},filters:{authorLink:l["a"],showHighlight:function(t){return t?"color:".concat(t,";font-weight:600;"):""},showMark:function(t){return G["a"][t]||t},showAvatar:function(t){return Object(l["u"])(null===t||void 0===t?void 0:t.avatar)},showNickname:function(t){return(null===t||void 0===t?void 0:t.display_name)||"匿名"},dateFormat:function(t){return Object(K["a"])(new Date(t))}},created:function(){},mounted:function(){this.getSkinJson()}},st=nt,ot=(a("57b7"),Object(w["a"])(st,Q,X,!1,null,null,null)),rt=ot.exports,lt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"m-topic-hot m-topic-box",class:t.skin.style,style:{"--title-color":t.skin.titleColor,"--title-hover-color":t.skin.titleHoverColor,"--border-hover-color":t.skin.borderHoverColor}},[e("div",{staticClass:"m-topic-top"},[e("div",{staticClass:"m-topic-top__time"},[e("i",{class:t.getTimeAgo(t.data.created_at).icon}),e("span",[t._v(t._s(t.getTimeAgo(t.data.created_at).text)+" ")])]),e("div",{staticClass:"m-topic-top_right"},[e("div",{staticClass:"u-item"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"13.333",height:"12",viewBox:"0 0 13.333 12",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"#7A7A7A",d:"M4 12c-2.209 0-4-1.797-4-3.996V3.996A3.994 3.994 0 014 0h5.333c2.209 0 4 1.797 4 3.996V12H4zm0-1.333a2.67 2.67 0 01-2.667-2.663V3.996A2.66 2.66 0 014 1.333h5.333A2.67 2.67 0 0112 3.996v6.67H4zm0-4h1.333V5.333H4v1.334zm4 0h1.333V5.333H8v1.334z"}})]),t._v(" "+t._s(t.data.reply_count||0)+" ")]),e("div",{staticClass:"u-item"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14.667",height:"13.574",viewBox:"0 0 14.667 13.574",fill:"none","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("path",{attrs:{"fill-rule":"evenodd",fill:"#7A7A7A",d:"M11.887 13.574H.667A.667.667 0 010 12.908V6.24c0-.368.298-.667.667-.667h2.321c.217 0 .42-.105.545-.282L7.168.142A.333.333 0 017.59.034L8.8.64a1.667 1.667 0 01.87 1.902l-.602 2.366h4.266c.737 0 1.334.597 1.334 1.333v1.403c0 .174-.034.347-.1.508l-2.064 5.01a.667.667 0 01-.616.412zM4 6.634c.242-.144.455-.337.622-.573l3.14-4.448.44.22c.141.07.214.229.175.38L7.775 4.58a1.333 1.333 0 001.292 1.662h4.266v1.403L11.44 12.24H4V6.633zM1.333 12.24V6.908h1.334v5.333H1.333z"}})]),t._v(" "+t._s(t.data.agree_count||0)+" ")]),e("div",{class:"m-topic-category",style:"background-color: ".concat(t.styles.hoverColor,";color:").concat(t.styles.color,";"),on:{click:function(e){return t.onCategoryChange(t.data.category)}}},[e("img",{directives:[{name:"svg-inline",rawName:"v-svg-inline"}],staticClass:"u-icon",attrs:{src:a("1c2f")("./".concat(t.styles.icon,".svg"))}}),e("div",[t._v(t._s(t.data.category))])])])]),e("div",{staticClass:"m-topic-box__content",style:{backgroundImage:"url(".concat(t.skin.background,")")}},[e("div",{staticClass:"m-topic-hot__left"},[e("a",{staticClass:"u-cover",attrs:{href:t.getPostUrl(t.data.id)}},[e("el-image",{attrs:{src:t.getBanner(t.data.banner_img),alt:"banner",srcset:""}})],1),e("div",{staticClass:"m-topic-imgs scrollbar"},t._l(t.data.extra_images,(function(a,i){return e("a",{key:i,staticClass:"u-item",attrs:{href:t.getPostUrl(t.data.id)}},[e("el-image",{attrs:{src:t.getSquareBanner(a)}})],1)})),0)]),e("div",{staticClass:"m-topic-hot__right"},[e("a",{staticClass:"u-title",style:t.hightStyle,attrs:{href:t.getPostUrl(t.data.id),target:"_blank"}},[t.isTop?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FF6969"}}),e("path",{attrs:{d:"M5.654 10.916l7.671 7.94s4.819-9.49 7.194-9.003c2.376.488-6.481-9.125-5.852-6.28.63 2.845-9.013 7.343-9.013 7.343z",fill:"#FFF"}}),e("path",{attrs:{d:"M4.114 9.325L14.852 20.44l-1.055-5.26-4.602-4.763-5.081-1.092zM3.09 20.808l7.06-5.225L8.137 13.5l-5.048 7.309z",fill:"#FFF"}})]):t._e(),t.data.is_star?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","svg-inline":"",srcset:"",role:"presentation",focusable:"false",tabindex:"-1"}},[e("rect",{attrs:{width:"24",height:"24",rx:"4",fill:"#FFBB69"}}),e("path",{attrs:{d:"M21 12l-6.582-2.418L12 3 9.582 9.582 3 12l6.582 2.418L12 21l2.418-6.582L21 12z",fill:"#FFF"}})]):t._e(),e("span",[t._v(" "+t._s(t.data.title)+" ")])]),t.data.color_tag&&t.data.color_tag.length?e("div",{staticClass:"m-topic-tag"},t._l(t.data.color_tag,(function(a,i){return e("span",{key:i,style:{background:a.color}},[t._v(" "+t._s(a.label)+" ")])})),0):t._e(),t.data.collection_id&&t.data.collection.id&&t.data.collection.title?e("div",{staticClass:"m-topic-collection"},[e("a",{attrs:{href:"/collection/".concat(t.data.collection_id)}},[e("span",{staticClass:"u-label"},[t._v("小册")]),e("span",{staticClass:"u-value"},[t._v(t._s(t.data.collection.title))])])]):t._e(),e("div",{staticClass:"m-topic-userInfo"},[t.data.anonymous?e("span",[e("img",{staticClass:"m-topic-userInfo__avatar",attrs:{src:t.avatarUrl,alt:"",srcset:""}}),e("span",{staticClass:"m-topic-userInfo__name"},[t._v("神秘侠士")])]):e("a",{attrs:{href:t.authorLink(t.data.ext_user_info.id),target:"_blank"}},[e("img",{staticClass:"m-topic-userInfo__avatar",attrs:{src:t.avatarUrl,alt:"",srcset:""}}),e("span",{staticClass:"m-topic-userInfo__name"},[t._v(t._s(t.data.ext_user_info.display_name))])])]),e("a",{staticClass:"m-topic-content",attrs:{href:t.getPostUrl(t.data.id),target:"_blank"}},[e("div",{domProps:{innerHTML:t._s(t.introduction)}})])])])]),e("div",{staticClass:"m-topic-list m-topic-hot__mini"},[e("TopicItem",{attrs:{data:t.data}})],1)])},ct=[],ut="community_topic_skin",dt={props:["data"],inject:["getCategoryStyle","onCategoryChange"],data:function(){return{skinJson:{}}},components:{TopicItem:Y},computed:{skin:function(){if(this.data.decoration_id&&this.data.decoration.val){var t=this.skinJson,e=this.data.decoration.val;if(t[e])return{background:$["__cdn"]+"design/decoration/palu/".concat(e,".png"),titleColor:t[e].titleColor,titleHoverColor:t[e].titleHoverColor,borderHoverColor:t[e].borderHoverColor,style:t[e].style}}return{titleColor:"#0366d6",titleHoverColor:"rgba(255, 64, 128, 1)",borderHoverColor:"#0366d6"}},hightStyle:function(){return this.data.is_hight&&this.data.hight_color?{color:this.data.hight_color}:{}},introduction:function(){var t=this.data;return t.introduction?t.introduction.length>=200?t.introduction+"...":t.introduction.length<=0?"......":t.introduction:""},styles:function(){return this.getCategoryStyle(this.data.category||"")},isTop:function(){return this.data.is_top||this.data.is_category_top},avatarUrl:function(){var t,e;return Object(l["u"])(null===(t=this.data)||void 0===t||null===(e=t.ext_user_info)||void 0===e?void 0:e.avatar)}},mounted:function(){this.getSkinJson()},methods:{getSkinJson:function(){var t=this,e=sessionStorage.getItem(ut);e?this.skinJson=JSON.parse(e):Object(r["h"])().then((function(e){t.skinJson=e.data,sessionStorage.setItem(ut,JSON.stringify(e.data))}))},getTimeAgo:J["c"],authorLink:l["a"],getBanner:function(t){if(t)return t.indexOf("jx3box.com")>=0?Object(l["l"])(t,[672,352]):t;var e=Object(R["random"])(1,39);return $["__cdn"]+"design/random_cover/".concat(e,".jpg")},getPostUrl:function(t){return"/community/".concat(t)},getSquareBanner:function(t){return t.indexOf("jx3box.com")>=0?Object(l["l"])(t,96):t}}},ht=dt,ft=(a("f723"),Object(w["a"])(ht,lt,ct,!1,null,null,null)),gt=ft.exports,pt=a("7d14"),mt="community",vt={name:"Community_v2",components:{CommunityLayout:x,ListTabs:P,CommunityPagination:D,TopicItem:Y,ListItem:rt,TopicTop:gt,Waterfall:h["a"],DesignTask:pt["a"]},data:function(){return{title:"",category:"心得",isSearch:!1,client:"all",is_star:0,view:1,page:1,per:20,total:0,pages:0,number_queries:["per","page"],categoryList:[],loading:!1,list:[],topTopicData:null,currentPost:null,showDesignTask:!1}},computed:{publish_link:function(){return Object(l["s"])(mt)},hasNextPage:function(){return this.pages>=1&&this.per*this.page<this.total}},provide:function(){return{onCategoryChange:this.onCategoryChange,getCategoryStyle:this.getCategoryStyle}},mounted:function(){var t=this;window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.handleScroll),this.handleResize(),this.loadData(),this.getCategoryList();var e=localStorage.getItem("community_view");this.view=e?+e:1,d["a"].on("design-task",(function(e){t.currentPost=e,t.showDesignTask=!0}))},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleScroll)},watch:{"$route.query":{deep:!0,immediate:!0,handler:function(t){if(Object.keys(t).length)for(var e in t)this.number_queries.includes(e)?this[e]=~~t[e]:this[e]=t[e]}},list:{handler:function(t){t.length&&this.$refs.waterfall&&this.$refs.waterfall.repaints(),t.length&&this.getLikes()},deep:!0},topTopicData:{handler:function(t){var e=this;if(t){var a="community_topic-".concat(t.id);Object(c["c"])({post_type:"community_topic",post_action:"likes",id:a}).then((function(i){i.data.data[a]&&i.data.data[a].likes&&e.$set(t,"agree_count",i.data.data[a].likes)}))}}},category:function(){this.page=1,this.loadData()}},methods:{getLikes:function(){for(var t=this,e=this.list.filter((function(t){return null==t.agree_count})),a=e.map((function(t){return"community_topic-".concat(t.id)})),i=0;i<this.list.length;i++){var n=this.list[i];null==n.agree_count&&this.$set(this.list[i],"agree_count",0)}if(a.length){var s=a.join(",");Object(c["c"])({post_type:"community_topic",post_action:"likes",id:s}).then((function(e){var a=Object.keys(e.data.data);a.length&&a.forEach((function(a){var i=a.split("-")[1],n=t.list.findIndex((function(t){return t.id==i}));n>-1&&t.$set(t.list[n],"agree_count",e.data.data[a].likes)}))}))}},onSearch:function(){this.page=1,this.view=2,this.loadData()},loadData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isSearch=!1;var a=this.buildQuery(e);this.loading=!0,Object(r["l"])(a).then((function(i){var n=i.data.data.list||[];n=n.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{agree_count:t.agree_count||null})})),e?t.list=t.list.concat(n||[]):(1===a.index&&n&&n.length?t.topTopicData=n.shift():t.topTopicData=null,t.list=n||[],t.$nextTick((function(){window.scrollTo(0,0)}))),t.total=i.data.data.page.total,t.pages=i.data.data.page.pageTotal})).finally((function(){t.loading=!1}))},changePage:function(){this.loadData()},replaceRoute:function(t){return this.$router.push({name:this.$route.name,query:Object.assign({},this.$route.query,t)})},appendPage:function(){this.loadData(!0)},buildQuery:function(t){t&&(this.page+=1);var e={category:this.category,pageSize:this.per,index:this.page};return this.is_star&&(e.is_star=this.is_star),this.title&&(e.title=this.title),this.client&&"all"!==this.client&&(e.client=this.client),this.replaceRoute({category:this.category,page:this.page}),e},filterImperceptibly:function(t){this[t["type"]]=t["val"]},onViewChange:function(t){this.view=t,localStorage.setItem("community_view",t)},onIsStarChange:function(){this.loadData()},getCategoryList:function(){var t=this;Object(r["i"])({type:"community"}).then((function(e){var a=[{name:"全部",val:""}].concat(Object(s["a"])(e.data.data));t.categoryList=Object(u["a"])(a)}))},getCategoryStyle:function(t){var e=this.categoryList.find((function(e){return e.value===t}));return e||{icon:"game",hoverColor:"rgba(235, 244, 255, 1)",color:"rgba(64, 128, 255, 1)"}},handleResize:function(){window.innerWidth>1920?this.col=3:window.innerWidth>1200?this.col=2:this.col=1},handleScroll:function(){var t=this.$refs.paginationRef;if(t&&this.hasNextPage){var e=t.$el.offsetTop;window.scrollY+window.innerHeight>e&&!1===this.loading&&this.appendPage()}}}},_t=vt,bt=(a("952a"),Object(w["a"])(_t,i,n,!1,null,null,null));e["default"]=bt.exports}}]);